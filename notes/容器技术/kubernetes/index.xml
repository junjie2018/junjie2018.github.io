<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kubernetes on 小桀的笔记本</title>
    <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/</link>
    <description>Recent content in Kubernetes on 小桀的笔记本</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <copyright>&amp;copy;{year}, All Rights Reserved</copyright>
    
        <atom:link href="http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/index.xml" rel="self" type="application/rss+xml" />
    
    
    
      
      <item>
        <title>Jenkins定位Kubernetes集群中，简单的echo实验失败</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/jenkins%E5%AE%9A%E4%BD%8Dkubernetes%E9%9B%86%E7%BE%A4%E4%B8%AD%E7%AE%80%E5%8D%95%E7%9A%84echo%E5%AE%9E%E9%AA%8C%E5%A4%B1%E8%B4%A5/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/jenkins%E5%AE%9A%E4%BD%8Dkubernetes%E9%9B%86%E7%BE%A4%E4%B8%AD%E7%AE%80%E5%8D%95%E7%9A%84echo%E5%AE%9E%E9%AA%8C%E5%A4%B1%E8%B4%A5/</guid>
        <description>问题描述 按照教程走完所有流程后，始终得不到项目的日志输出，项目状态一致处于运行中 查看slave pod的describe和log都没有任何提示</description>
      </item>
      
      <item>
        <title>Kubernetes中搭建Jenkins</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E4%B8%AD%E6%90%AD%E5%BB%BAjenkins/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E4%B8%AD%E6%90%AD%E5%BB%BAjenkins/</guid>
        <description>前言 怎么说，犯了低级错误，但是在定位解决这个低级错误的时候又学到了很多知识 操作步骤 拉取代码，将Jenkins运行起来： 1 2 3 4 5 6 7 8 git clone https://gitee.com/junjie2019/kubernetes.git</description>
      </item>
      
      <item>
        <title>Kubernetes中搭建Nexus</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E4%B8%AD%E6%90%AD%E5%BB%BAnexus/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E4%B8%AD%E6%90%AD%E5%BB%BAnexus/</guid>
        <description>操作步骤 拉取代码，将Nexus运行起来： 1 2 3 4 5 6 7 8 9 10 11 git clone https://gitee.com/junjie2019/kubernetes.git cd kubernetes/Devops/Jenkins kubectl apply -f PersistentVolumeClaim.yml kubectl apply -f Nexus.yml kubectl create configmap setting.xml \ -- from-file=setting.xml \ -n devops 相关资料 Kubernetes部署</description>
      </item>
      
      <item>
        <title>Kubernetes使用ingress-nginx</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E4%BD%BF%E7%94%A8ingress-nginx/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E4%BD%BF%E7%94%A8ingress-nginx/</guid>
        <description>操作步骤 拉取代码，将Ingress-Nginx运行起来： 1 2 3 4 5 6 7 git clone https://gitee.com/junjie2019/kubernetes.git cd kubernetes/Kubernetes/IngressNginx kubectl apply -f mandatory.yml kubectl apply -f service-nodeport.yml 查看pods时会发现镜像拉不下来，可以查看相</description>
      </item>
      
      <item>
        <title>Kubernetes使用NFS持久卷（废弃）</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E4%BD%BF%E7%94%A8nfs%E6%8C%81%E4%B9%85%E5%8D%B7%E5%BA%9F%E5%BC%83/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E4%BD%BF%E7%94%A8nfs%E6%8C%81%E4%B9%85%E5%8D%B7%E5%BA%9F%E5%BC%83/</guid>
        <description>这边笔记已经被废弃了，废弃的原因是我把https://gitee.com/junjie2019/kubernetes.git仓库设置成了私有</description>
      </item>
      
      <item>
        <title>Kubernetes解决Deployment一直处于NotReady</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3deployment%E4%B8%80%E7%9B%B4%E5%A4%84%E4%BA%8Enotready/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3deployment%E4%B8%80%E7%9B%B4%E5%A4%84%E4%BA%8Enotready/</guid>
        <description>处理步骤 查看pods状态，发现pod没有成功创建： 1 kubectl get po 查看deployment状态，发现deployment一直处于NotReady状态</description>
      </item>
      
      <item>
        <title>Kubernetes解决NFS挂载报错的问题（Ubuntu版）</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3nfs%E6%8C%82%E8%BD%BD%E6%8A%A5%E9%94%99%E7%9A%84%E9%97%AE%E9%A2%98ubuntu%E7%89%88/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3nfs%E6%8C%82%E8%BD%BD%E6%8A%A5%E9%94%99%E7%9A%84%E9%97%AE%E9%A2%98ubuntu%E7%89%88/</guid>
        <description>问题描述： 日志如下 Name: nfs-client-provisioner-56596b5cc5-kvsff Namespace: default Priority: 0 Node: kubernetes3/172.17.30.103 Start Time: Thu, 23 Jul 2020 04:06:48 +0000 Labels: app=nfs-client-provisioner pod-template-hash=56596b5cc5 Annotations: &amp;lt;none&amp;gt; Status: Pending IP: IPs: &amp;lt;none&amp;gt; Controlled By: ReplicaSet/nfs-client-provisioner-56596b5cc5 Containers: nfs-client-provisioner: Container ID: Image: quay.io/external_storage/nfs-client-provisioner:latest Image ID: Port: &amp;lt;none&amp;gt; Host Port: &amp;lt;none&amp;gt; State: Waiting Reason: ContainerCreating Ready: False Restart Count: 0 Environment: PROVISIONER_NAME: fuseim.pri/ifs NFS_SERVER: 192.168.30.174 NFS_PATH: /home/junjie/nfs Mounts: /persistentvolumes from</description>
      </item>
      
      <item>
        <title>Kubernetes解决Service is invalid问题</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3service-is-invalid%E9%97%AE%E9%A2%98/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3service-is-invalid%E9%97%AE%E9%A2%98/</guid>
        <description>问题描述 service原为NodePort类型，改为默认类型时，有报错如下： kubectl apply -f Jenkins.yml The Service &amp;quot;jenkins&amp;quot; is invalid: spec.ports[1].nodePort: Forbidden: may not be used when `type` is &#39;ClusterIP&#39; 直接删除原Service，</description>
      </item>
      
      <item>
        <title>Kubernetes解决使用Harbor时无法拉取镜像的问题</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3%E4%BD%BF%E7%94%A8harbor%E6%97%B6%E6%97%A0%E6%B3%95%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%E7%9A%84%E9%97%AE%E9%A2%98/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3%E4%BD%BF%E7%94%A8harbor%E6%97%B6%E6%97%A0%E6%B3%95%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
        <description>问题描述： 日志如下 Name: jenkins-7d6c886b8-nkl4g Namespace: devops Priority: 0 Node: kubernetes3/172.17.30.103 Start Time: Thu, 23 Jul 2020 06:13:34 +0000 Labels: app=jenkins pod-template-hash=7d6c886b8 Annotations: &amp;lt;none&amp;gt; Status: Pending IP: 10.244.2.3 IPs: IP: 10.244.2.3 Controlled By: ReplicaSet/jenkins-7d6c886b8 Containers: jenkins: Container ID: Image: 192.168.30.174:80/test/jenkins:lts Image ID: Ports: 8080/TCP, 50000/TCP Host Ports: 0/TCP, 0/TCP State: Waiting Reason: ImagePullBackOff Ready: False Restart Count: 0 Limits: cpu: 1 memory: 1Gi Requests:</description>
      </item>
      
      <item>
        <title>Kubernetes解决运行在不同主机上的Pod无法ping通的问题</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3%E8%BF%90%E8%A1%8C%E5%9C%A8%E4%B8%8D%E5%90%8C%E4%B8%BB%E6%9C%BA%E4%B8%8A%E7%9A%84pod%E6%97%A0%E6%B3%95ping%E9%80%9A%E7%9A%84%E9%97%AE%E9%A2%98/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/kubernetes%E8%A7%A3%E5%86%B3%E8%BF%90%E8%A1%8C%E5%9C%A8%E4%B8%8D%E5%90%8C%E4%B8%BB%E6%9C%BA%E4%B8%8A%E7%9A%84pod%E6%97%A0%E6%B3%95ping%E9%80%9A%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
        <description>说在前面 真的有点喜极而泣的感觉，花了一下午，终于解决了这个问题，心理很舒服 解决步骤 下载flannel的yml文件，在如下部分增加一条条目，并</description>
      </item>
      
      <item>
        <title>Ubuntu 18.04搭建Kubernetes（废弃）</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/ubuntu-18.04%E6%90%AD%E5%BB%BAkubernetes%E5%BA%9F%E5%BC%83/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/ubuntu-18.04%E6%90%AD%E5%BB%BAkubernetes%E5%BA%9F%E5%BC%83/</guid>
        <description>操作步骤 准备基础环境： 克隆我的个人项目，启动三台虚拟机 1 2 3 4 5 git clone https://github.com/junjie2018/vagrant.git cd vagrant/cluster/ssh_kubernetes/kubernetes vagrant up 关闭工具机的防火墙，使开发机能直接访问虚拟机： 1 2 3 sudo ufw disable 开发</description>
      </item>
      
      <item>
        <title>为root用户配置kubectl</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/%E4%B8%BAroot%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AEkubectl/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/%E4%B8%BAroot%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AEkubectl/</guid>
        <description>说明 这不是一个优雅的方案，只是为了临时用一下 我感觉阿里云也是用的这个方案，但是可能它用的层次更高一些，我只是简单的照搬 操作步骤 master 切换到roo</description>
      </item>
      
      <item>
        <title>查看etcd中的数据</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/%E6%9F%A5%E7%9C%8Betcd%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/%E6%9F%A5%E7%9C%8Betcd%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE/</guid>
        <description>我记得当时的需求是我的集群中出现了不明白的问题，我判断是etcd出现了问题，我需要查看etcd中的数据。 这是对以前收藏的整理。 查看k8s的e</description>
      </item>
      
      <item>
        <title>解决Kubernetes从国外站点下载镜像慢的问题</title>
        <link>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/%E8%A7%A3%E5%86%B3kubernetes%E4%BB%8E%E5%9B%BD%E5%A4%96%E7%AB%99%E7%82%B9%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98/</link>
        <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
        
        <guid>http://junjie2018.github.io/notes/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/kubernetes/%E8%A7%A3%E5%86%B3kubernetes%E4%BB%8E%E5%9B%BD%E5%A4%96%E7%AB%99%E7%82%B9%E4%B8%8B%E8%BD%BD%E9%95%9C%E5%83%8F%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
        <description>解决步骤 拿到原镜像地址： 1 2 3 kubectl describe po xxx -n xxx # quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.30.0 替换为国内的站点 1 2 3 sudo docker pull quay.mirrors.ustc.edu.cn/kubernetes-ingress-controller/nginx-ingress-controller:0.30.0 推送到harbor，方便其他虚拟机进行下载 1 2 3 4 sudo docker tag quay.mirrors.ustc.edu.cn/kubernetes-ingress-controller/nginx-ingress-controller:0.30.0 192.168.30.174:80/test/nginx-ingress-controller:0.30.0 sudo docker</description>
      </item>
      
    
  </channel>
</rss>