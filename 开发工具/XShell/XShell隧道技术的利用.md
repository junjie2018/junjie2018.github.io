不用再在跳板机上手动ssh生产机了，还能往生产机上传文件，不使用该技术，则需要先ssh跳板机，然后在ssh到生产机，而且还不能向生产机传文件

## 原理部分

1. 该方案至少要两个会话，一个会话需要`登录跳板机`并配置`隧道`，我叫它为`跳板机会话`。另一个会话就是我们日常使用的会话，我称为它为`目标会话`

2. 如图，测试环境下`跳板机`就是我所说的`跳板机会话`，而`192.168.52.157`、`192.168.52.168`、`192.168.52.169`就是我所说的目标会话

![2020-10-24-15-53-13](https://junjie2018sz.oss-cn-shenzhen.aliyuncs.com/images/2020-10-24-15-53-13.png)

3. 使用的时候，需要先打开`跳板机会话`，然后再打开你需要的`目标会话`


## 操作步骤

### 配置跳板机会话

1. xshell上创建一个跳板机会话（这块不截图了，两部分，`ip地址`和`登录信息`，其中ip地址是跳板机的ip地址，登录信息为跳板机的用户名和密码）

2. 跳板机会话设置登录脚本，设置登录脚本是为了防止跳板机长时间没有输入，给自动掉线了

![2020-08-05-11-30-18](https://junjie2018sz.oss-cn-shenzhen.aliyuncs.com/images/2020-08-05-11-30-18.png)

3. 跳板机会话设置隧道，添加两台生产机（观察两张截图，可以总结需要设置哪些内容）

![2020-08-05-11-32-08](https://junjie2018sz.oss-cn-shenzhen.aliyuncs.com/images/2020-08-05-11-32-08.png)  
![2020-08-05-11-32-37](https://junjie2018sz.oss-cn-shenzhen.aliyuncs.com/images/2020-08-05-11-32-37.png)  

### 配置目标会员

1. 添加目标会员（右键，新建会话，登录信息部分是常规设置，需要注意主机部分）

![2020-08-05-11-34-26](https://junjie2018sz.oss-cn-shenzhen.aliyuncs.com/images/2020-08-05-11-34-26.png)  
![2020-08-05-11-35-31](https://junjie2018sz.oss-cn-shenzhen.aliyuncs.com/images/2020-08-05-11-35-31.png)  

2. 完美收工，使用时需要先连接跳板机
